# KIS-Task

## Условие задачи

Код задачи: 132

На вход программе подаётся изображение некоторого графа.

Необходимо вывести количество пересечений его рёбер. Обратите внимание -- рёбра, встречающиеся в одной вершине, не дают пересечения. 

Формат изображения -- png. Рёбра изображены прямыми чёрными отрезками толщиной не менее 3 пикселей. Вершины не помечены, однако гарантируется, что никакие два ребра, выходящие из одной вершины, не лежат на одной прямой. (то есть если отрезок кончается в точке -- там гарантированно есть вершина. 

## Идея решения

Основная идею решения можно разбить на два этапа: 

- поиск ребер
- поиск точек пересечения ребер

Заметим, что все точки пересечения ребер -- вершины или точки пересечения ребер. Следовательно, так как у нас есть число вершин, мы можем найти число точек пересечения ребер, взяв разность. 

### Поиск ребер

Мы находим все черные пиксели. Затем берем выборку определенного размера. Создаем все прямые, которые порождают эти точки. Затем мы оставляем только линии, которые не совпадают друг с другом. Наконец, 
мы смотрим есть ли промежуток определенной длины, на котором эта прямая полностью попадает в черное ребро картинки. Тогда это ребро.

### Поиск точек пересечения ребер

Здесь все просто. По 2 прямым легко по правилу Крамера точка восстанавливается. Далее, используем set чтобы поддержать уникальность. Наконец, находим ответ.
